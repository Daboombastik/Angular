<button (click)="showUserForm = !showUserForm" class="btn btn-dark mb-4">User form</button>

<div *ngIf="showUserForm" class="card card-body mb-3">
    <form (submit)="onFormSubmit($event)" class="form-group">
        <div class="form-group">
            <label> First Name </label>
            <input type="text" [(ngModel)]="user.firstName" class="form-control mb-3" name="firstName">
        </div>
        <div class="form-group">
            <label> Last Name </label>
            <input type="text" [(ngModel)]="user.lastName" class="form-control mb-3" name="lastName">
        </div>

        <div class="form-group">
            <label> Email </label>
            <input type="email" [(ngModel)]="user.email" class="form-control mb-3" name="email">
        </div>

        <div class="form-group">
            <label> Age </label>
            <input type="number" [(ngModel)]="user.age" class="form-control mb-3" name="age">
        </div>

        <button (click)="addUser()" [disabled]="user.firstName == '' || user.lastName == ''"
            class="btn btn-success btn-block mb-4">
            Add new User
        </button>
    </form>

</div>

<h1> Users </h1>

<ul class="list-unstyled" *ngIf="loaded && users; else loading">
    <div *ngIf="users.length > 0; else noUsers">
        <li class="card mb-2" *ngFor="let user of users" [class.bg-light]="user.isActive"
            [style.border-color]="user.isActive ? 'green': ''">
            <div class="row">
                <div class="col-sm-4">
                    <img *ngIf="user.image" class="img-fluid" [src]="user.image" alt="image of user">
                </div>
                <div class="col-sm-8">
                    <h3 [ngStyle]="headingStyle">{{user.firstName}} {{user.lastName}}
                        <small>
                            <button class="btn btn-dark btn-sm" (click)="toggleHide(user)">
                                <i [ngClass]="user.hide ? 'fa
                                    fa-plus' : 'fa fa-minus'">
                                </i>
                            </button>
                        </small>
                    </h3>
                    <ul class="list-group" *ngIf="!user.hide">
                        <li class="list-group-item">
                            Email : {{user.email}}
                        </li>
                        <li class="list-group-item">
                            Age : {{user.age}}
                        </li>
                        <li class="list-group-item">
                            Registered : {{user.registered | date}}
                        </li>
                    </ul>
                </div>
            </div>
        </li>
    </div>
</ul>

<ng-template #loading>
    <h4>Loading users...</h4>
</ng-template>

<ng-template #noUsers>
    <h4>No Users Found</h4>
</ng-template>